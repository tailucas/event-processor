#!/usr/bin/python
import serial

from time import sleep

EXPECTED_FIELDS=6

com1 = serial.Serial(port='/dev/ttyACM0', baudrate=9600)
while True:
    try:
        data = com1.readline()
        if data is None:
            continue
        fields = data.rstrip().split(',')
        if len(fields) != EXPECTED_FIELDS:
            continue
        samples = map(lambda s: int(s.split(':')[1]), fields)
        print str(samples)
    except(KeyboardInterrupt, SystemExit):
        com1.close()
        break
